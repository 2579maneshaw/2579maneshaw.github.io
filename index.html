---
layout: default
title: Our Villa
nav: villa
description: Explore the townhome layout, amenities, and photo gallery for Enchanted Villa of Windsor Hills Townhome.
---

<style>
  /* Page-specific styles for Villa page only */

  h1{margin:18px 0 10px;font-size:1.85rem;letter-spacing:-0.02em;}
  p{color:#333;line-height:1.65;margin:0 0 12px;}

  .heroCopy{
    margin: 18px 0 18px;
    padding: 18px;
    border-radius: 16px;
    background:#f7f7f7;
    border:1px solid #eee;
  }

  .grid2{
    display:grid;
    grid-template-columns: minmax(0, 1.2fr) minmax(0, 0.8fr);
    gap:18px;
    align-items:start;
  }
  @media (max-width: 860px){ .grid2{ grid-template-columns:1fr; } }
  .grid2 > *{ min-width:0; }

  .bullets{margin:10px 0 0;padding-left:18px;color:#333;line-height:1.75;}
  .bullets li{margin:6px 0;}

  /* Mini gallery */
  .miniGallery{
    display:flex;
    gap:10px;
    overflow-x:auto;
    padding-bottom:6px;
    -webkit-overflow-scrolling:touch;
  }
  .miniGallery img{
    height:120px;
    width:180px;
    object-fit:cover;
    border-radius:14px;
    border:1px solid #eee;
    background:#f3f3f3;
    flex:0 0 auto;
    cursor:pointer;
  }

  /* Button row (uses your global .btn styles if present) */
  .ctaRow{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap;}
</style>

<section class="heroCopy" aria-label="Our Villa intro">
  <h1>Our Villa</h1>
  <p>
    A calm, family-friendly townhome retreat near Disney — designed for comfort, quiet evenings, and easy midday breaks.
  </p>
</section>

<section class="grid2">
  <div class="card">
    <h2>Townhome Highlights</h2>
    <p>Here are a few of the most-loved features guests appreciate during their stay.</p>

    <ul class="bullets">
      <li>Private screened splash pool</li>
      <li>Steps to Windsor Hills amenities</li>
      <li>Comfortable bedrooms and family-friendly layout</li>
      <li>Great for a midday break from the parks</li>
    </ul>
  </div>

  <div class="card">
    <h2>Townhome Gallery</h2>
    <p>Click a thumbnail to view larger photos.</p>

    <!-- ✅ THIS is your thumbnails container. Do NOT remove this. -->
    <div id="villaMiniGallery" class="miniGallery" aria-label="Townhome mini gallery"></div>

    <!-- ✅ Video button goes UNDER the thumbnails -->
    <div class="ctaRow" style="margin-top:12px;">
      <a class="btn ghost"
         href="{{ '/videos/WalkthroughVideo.mp4' | relative_url }}"
         target="_blank"
         rel="noopener">
        Watch Walkthrough Video
      </a>
    </div>
  </div>
</section>

<!-- Lightbox (optional but recommended if your thumbnails use it) -->
<div id="lightbox" class="lightbox" aria-hidden="true" style="display:none;">
  <div class="lightboxInner">
    <button class="lbBtn lbPrev" id="lbPrev" aria-label="Previous photo">◀</button>
    <img id="lbImg" class="lightboxImg" alt="Expanded photo view">
    <button class="lbBtn lbNext" id="lbNext" aria-label="Next photo">▶</button>
    <button class="lbClose" id="lbClose" aria-label="Close">✕</button>
  </div>
</div>

<script>
  // If you already load this gallery elsewhere, keep your existing JSON name consistent.
  // This matches your home page approach.
  const VILLA_JSON = "villa-photos.webp.json";

  function withJpgFallback(src, imgEl) {
    imgEl.onerror = () => {
      if (src && src.toLowerCase().endsWith(".webp")) {
        imgEl.onerror = null;
        imgEl.src = src.replace(/\.webp$/i, ".jpg");
      }
    };
  }

  async function loadList(preferred, fallback) {
    try {
      const res = await fetch(preferred, { cache: "no-store" });
      if (!res.ok) throw new Error("preferred not ok");
      return await res.json();
    } catch (e) {
      const res2 = await fetch(fallback, { cache: "no-store" });
      return await res2.json();
    }
  }

  // Lightbox state
  let lbList = [];
  let lbIndex = 0;

  const lightbox = document.getElementById("lightbox");
  const lbImg = document.getElementById("lbImg");
  const lbPrev = document.getElementById("lbPrev");
  const lbNext = document.getElementById("lbNext");
  const lbClose = document.getElementById("lbClose");

  function openLightbox(list, index) {
    lbList = list || [];
    lbIndex = index || 0;
    if (!lbList.length) return;

    lightbox.style.display = "flex";
    lightbox.classList.add("open");
    lightbox.setAttribute("aria-hidden", "false");
    showLb(lbIndex);
  }

  function closeLightbox() {
    lightbox.classList.remove("open");
    lightbox.style.display = "none";
    lightbox.setAttribute("aria-hidden", "true");
  }

  function showLb(i) {
    if (!lbList.length) return;
    lbIndex = (i + lbList.length) % lbList.length;
    lbImg.src = lbList[lbIndex];
    withJpgFallback(lbList[lbIndex], lbImg);
  }

  function lbNextPhoto() { showLb(lbIndex + 1); }
  function lbPrevPhoto() { showLb(lbIndex - 1); }

  if (lbNext) lbNext.addEventListener("click", lbNextPhoto);
  if (lbPrev) lbPrev.addEventListener("click", lbPrevPhoto);
  if (lbClose) lbClose.addEventListener("click", closeLightbox);

  // Close when clicking backdrop
  if (lightbox) {
    lightbox.addEventListener("click", (e) => {
      if (e.target === lightbox) closeLightbox();
    });
  }

  // Keyboard support
  document.addEventListener("keydown", (e) => {
    if (!lightbox || !lightbox.classList.contains("open")) return;
    if (e.key === "Escape") closeLightbox();
    if (e.key === "ArrowRight") lbNextPhoto();
    if (e.key === "ArrowLeft") lbPrevPhoto();
  });

  function addMiniGallery(containerId, photos) {
    const el = document.getElementById(containerId);
    if (!el) return;

    el.innerHTML = "";

    photos.forEach((src, idx) => {
      const img = document.createElement("img");
      img.loading = "lazy";
      img.decoding = "async";
      img.src = src;
      img.alt = "Townhome photo preview";
      withJpgFallback(src, img);

      img.addEventListener("click", () => openLightbox(photos, idx));
      el.appendChild(img);
    });
  }

  async function initVillaGallery() {
    try {
      const photos = await loadList(VILLA_JSON, "villa-photos.json");
      addMiniGallery("villaMiniGallery", photos);
    } catch (e) {
      console.warn("Could not load villa gallery JSON files.", e);
    }
  }

  initVillaGallery();
</script>
